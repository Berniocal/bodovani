<!doctype html>
<html lang="cs">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Počítadlo bodů</title>
<style>
  :root{
    --bg:#020617;
    --panel:#0b1220;
    --panel-soft:#111827;
    --accent:#38bdf8;
    --accent2:#6366f1;
    --text:#e5e7eb;
    --muted:#9ca3af;
    --danger:#f97373;
    --radius:18px;
  }
  *{box-sizing:border-box;font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif}
  body{
    margin:0;
    min-height:100vh;
    background:radial-gradient(circle at top,#1e293b,#020617 55%);
    color:var(--text);
    display:flex;
    justify-content:center;
    align-items:flex-start;
    padding:16px;
  }
  .app{
    width:100%;
    max-width:700px;
    margin-top:12px;
  }
  .card{
    background:var(--panel);
    border-radius:var(--radius);
    padding:16px 16px 20px;
    box-shadow:0 18px 40px rgba(15,23,42,.7);
  }
  h1{margin:0 0 6px;font-weight:600;}
  .sub{
    margin:0 0 14px;
    font-size:0.9rem;
    color:var(--muted);
  }

  /* záložky */
  .tabs-wrap{
    background:rgba(15,23,42,.9);
    border-radius:999px;
    padding:4px;
    display:flex;
    gap:4px;
    margin-bottom:14px;
  }
  .tab-btn{
    flex:1;
    border:none;
    border-radius:999px;
    padding:8px 10px;
    font-size:0.95rem;
    cursor:pointer;
    background:transparent;
    color:var(--muted);
    transition:background .15s ease,color .15s ease;
  }
  .tab-btn.active{
    background:linear-gradient(135deg,var(--accent),var(--accent2));
    color:#f9fafb;
  }

  .hidden{display:none;}

  /* hráči */
  .players{
    display:flex;
    flex-direction:column;
    gap:10px;
    margin-top:6px;
  }
  .player-row{
    display:flex;
    align-items:center;
    gap:8px;
    background:var(--panel-soft);
    border-radius:var(--radius);
    padding:8px 10px;
  }
  .player-name{
    flex:2;
    min-width:0;
  }
  .player-name input{
    width:100%;
    background:#020617;
    border-radius:999px;
    border:1px solid #1f2937;
    padding:6px 10px;
    color:var(--text);
    font-size:0.95rem;
  }

  .pill{
    min-width:46px;
    text-align:center;
    padding:4px 8px;
    border-radius:999px;
    background:#020617;
    border:1px solid #1f2937;
    font-variant-numeric:tabular-nums;
    font-size:0.9rem;
  }
  .pill-total{
    background:#022c22;
    border-color:#16a34a;
    color:#bbf7d0;
  }

  .btn-mini{
    min-width:32px;
    height:32px;
    border-radius:999px;
    border:none;
    background:#020617;
    color:var(--text);
    font-size:1.2rem;
    display:flex;
    align-items:center;
    justify-content:center;
    cursor:pointer;
    transition:transform .08s ease, background .1s ease;
  }
  .btn-mini:active{transform:translateY(1px) scale(.96);}
  .btn-minus{
  background:#e11d48;   /* světle červená */
  color:white;
}
.btn-minus:active{
  background:#be123c;   /* tmavší při kliku */
}

  .btn-plus{background:#0ea5e9;}
  .btn-plus-round{background:#22c55e;}

  .footer-bar{
    display:flex;
    justify-content:space-between;
    gap:10px;
    margin-top:14px;
    flex-wrap:wrap;
  }
  .btn{
    border:none;
    border-radius:999px;
    padding:9px 16px;
    font-size:0.95rem;
    font-weight:500;
    cursor:pointer;
    display:inline-flex;
    align-items:center;
    justify-content:center;
    gap:6px;
  }
  .btn-secondary{
    background:var(--panel-soft);
    color:var(--text);
    border:1px solid #1f2937;
  }
  .btn-danger{
    background:var(--danger);
    color:#111827;
  }
  .btn-success{
    background:linear-gradient(135deg,#22c55e,#16a34a);
    color:white;
  }
  .btn:active{transform:translateY(1px) scale(.99);}
  .btn-grow{flex:1;}

  /* vstup pro body v kole */
  .round-input{
    width:52px;
    text-align:center;
    border-radius:999px;
    border:1px solid #1f2937;
    background:#020617;
    color:var(--text);
    padding:4px 6px;
    font-variant-numeric:tabular-nums;
    font-size:0.9rem;
  }
  .round-input:focus{
    outline:2px solid var(--accent);
    outline-offset:1px;
  }
  /* schovat šipky u number na mobilech */
  input[type=number]::-webkit-inner-spin-button,
  input[type=number]::-webkit-outer-spin-button{
    -webkit-appearance:none;
    margin:0;
  }
  input[type=number]{-moz-appearance:textfield;}
</style>
</head>
<body>
<div class="app">
  <section class="card">
    <h1>Počítadlo bodů</h1>
    <p class="sub">Vyber typ počítadla, který chceš použít.</p>

    <div class="tabs-wrap">
      <button id="tabSimple" class="tab-btn active">Jednoduché počítadlo</button>
      <button id="tabRounds" class="tab-btn">Počítadlo na kola</button>
    </div>

    <!-- Jednoduché počítadlo -->
    <div id="viewSimple">
      
      <div id="simplePlayers" class="players"></div>
      <div class="footer-bar">
        <button class="btn btn-secondary btn-grow" id="btnAddSimple">+ Přidat hráče</button>
        <button class="btn btn-danger" id="btnResetSimple">Vynulovat všechny</button>
      </div>
    </div>

    <!-- Počítadlo na kola -->
    <div id="viewRounds" class="hidden">
     
      <div id="roundPlayers" class="players"></div>
      <div class="footer-bar">
        <button class="btn btn-secondary btn-grow" id="btnAddRound">+ Přidat hráče</button>
        <button class="btn btn-success btn-grow" id="btnNextRound">Další kolo</button>
      </div>
    </div>
  </section>
</div>

<script>
  // přepínání záložek
  const tabSimple = document.getElementById('tabSimple');
  const tabRounds = document.getElementById('tabRounds');
  const viewSimple = document.getElementById('viewSimple');
  const viewRounds = document.getElementById('viewRounds');

  tabSimple.addEventListener('click', () => setTab('simple'));
  tabRounds.addEventListener('click', () => setTab('rounds'));

  function setTab(which){
    if(which === 'simple'){
      tabSimple.classList.add('active');
      tabRounds.classList.remove('active');
      viewSimple.classList.remove('hidden');
      viewRounds.classList.add('hidden');
    }else{
      tabRounds.classList.add('active');
      tabSimple.classList.remove('active');
      viewRounds.classList.remove('hidden');
      viewSimple.classList.add('hidden');
    }
  }

  // ---------- Jednoduché počítadlo ----------
  const simpleContainer = document.getElementById('simplePlayers');
  let simplePlayers = [];
  let simpleIdCounter = 1;

  document.getElementById('btnAddSimple').onclick = () => addSimplePlayer();
  document.getElementById('btnResetSimple').onclick = () => {
    simplePlayers.forEach(p => p.score = 0);
    renderSimple();
  };

  function addSimplePlayer(){
    const p = {id:simpleIdCounter++, name:'', score:0};
    simplePlayers.push(p);
    renderSimple();
  }

  function renderSimple(){
    simpleContainer.innerHTML = '';
    simplePlayers.forEach(p => {
      const row = document.createElement('div');
      row.className = 'player-row';

      const nameWrap = document.createElement('div');
      nameWrap.className = 'player-name';
      const input = document.createElement('input');
      input.placeholder = 'Jméno hráče';
      input.value = p.name;
      input.oninput = () => { p.name = input.value; };
      nameWrap.appendChild(input);

      const minusBtn = document.createElement('button');
      minusBtn.className = 'btn-mini btn-minus';
      minusBtn.textContent = '−';
      minusBtn.onclick = () => { p.score--; renderSimple(); };

      const scoreSpan = document.createElement('div');
      scoreSpan.className = 'pill';
      scoreSpan.textContent = p.score;

      const plusBtn = document.createElement('button');
      plusBtn.className = 'btn-mini btn-plus';
      plusBtn.textContent = '+';
      plusBtn.onclick = () => { p.score++; renderSimple(); };

      row.appendChild(nameWrap);
      row.appendChild(minusBtn);
      row.appendChild(scoreSpan);
      row.appendChild(plusBtn);

      simpleContainer.appendChild(row);
    });
  }

  // ---------- Počítadlo na kola ----------
  const roundContainer = document.getElementById('roundPlayers');
  let roundPlayers = [];
  let roundIdCounter = 1;

  document.getElementById('btnAddRound').onclick = () => addRoundPlayer();
  document.getElementById('btnNextRound').onclick = () => {
    roundPlayers.forEach(p => {
      p.total += p.roundDelta;
    });
    renderRounds();
  };

  function addRoundPlayer(){
    const p = {id:roundIdCounter++, name:'', total:0, roundDelta:0};
    roundPlayers.push(p);
    renderRounds();
  }

  function renderRounds(){
    roundContainer.innerHTML = '';
    roundPlayers.forEach(p => {
      const row = document.createElement('div');
      row.className = 'player-row';

      const nameWrap = document.createElement('div');
      nameWrap.className = 'player-name';
      const input = document.createElement('input');
      input.placeholder = 'Jméno hráče';
      input.value = p.name;
      input.oninput = () => { p.name = input.value; };
      nameWrap.appendChild(input);

      const totalSpan = document.createElement('div');
      totalSpan.className = 'pill pill-total';
      totalSpan.textContent = p.total;

      const minusBtn = document.createElement('button');
      minusBtn.className = 'btn-mini btn-minus';
      minusBtn.textContent = '−';
      minusBtn.onclick = () => { p.roundDelta--; renderRounds(); };

      const deltaInput = document.createElement('input');
      deltaInput.type = 'number';
      deltaInput.inputMode = 'numeric';
      deltaInput.className = 'round-input';
      deltaInput.value = p.roundDelta;
      deltaInput.oninput = () => {
        const val = parseInt(deltaInput.value,10);
        p.roundDelta = isNaN(val) ? 0 : val;
      };

      const plusBtn = document.createElement('button');
      plusBtn.className = 'btn-mini btn-plus-round';
      plusBtn.textContent = '+';
      plusBtn.onclick = () => { p.roundDelta++; renderRounds(); };

      row.appendChild(nameWrap);   // jméno
      row.appendChild(totalSpan);  // CELKEM mezi jménem a mínusem
      row.appendChild(minusBtn);   // -
      row.appendChild(deltaInput); // číslo mezi - a +
      row.appendChild(plusBtn);    // +

      roundContainer.appendChild(row);
    });
  }

  // start: jedna řádka v obou režimech, aktivní jednoduché počítadlo
  addSimplePlayer();
  addRoundPlayer();
  setTab('simple');
</script>
</body>
</html>
